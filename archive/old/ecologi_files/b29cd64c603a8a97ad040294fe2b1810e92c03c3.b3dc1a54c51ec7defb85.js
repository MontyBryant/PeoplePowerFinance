(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{"09Gj":function(e,t,a){e.exports={achievementPopupInner:"AchievementPopup_achievementPopupInner__2s3M4",backButton:"AchievementPopup_backButton__3oqfl",content:"AchievementPopup_content__2mSbK",title:"AchievementPopup_title__2aY7S",copy:"AchievementPopup_copy__2dj9V",shareImage:"AchievementPopup_shareImage__3Q_R_",shareButtons:"AchievementPopup_shareButtons__3pj0x",shareButton:"AchievementPopup_shareButton__3chfl"}},Homr:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return w})),a.d(t,"a",(function(){return y}));var r=a("Fcif"),n=a("dV/x"),o=a("mK0O"),c=a("J5T5"),s=a("mXGw"),i=a.n(s),l=a("xARA"),d=a.n(l),u=a("AgE1"),m=a("8Jek"),p=a.n(m),b=a("6h0R"),h=a("N4Fx"),f=a.n(h),g=i.a.createElement;var v=function(e){var t=e.children,a=e.centered;return g("div",{className:p()(f.a.content,Object(o.a)({},f.a.contentCentered,a))},t)},_={name:"1qsuvl4",styles:"background:transparent"},w=Object(c.a)("div",{target:"e1tlbwj80",label:"ModalHeaderSection"})("padding-top:40px;",(function(e){return(t=e.theme,{default:_,dark:Object(b.a)("background:",t.colors.creamLight,";","")})[e.variant||"default"];var t}),";");w.defaultProps={variant:"default"};var y=i.a.forwardRef((function(e,t){var a=e.onClose,o=e.children,c=e.open,s=Object(n.a)(e,["onClose","children","open"]);if(Object(u.a)({isDisabled:!c}),!c)return null;var l=document.getElementById("modal-root"),m=g(i.a.Fragment,null,g("div",Object(r.a)({className:f.a.modalRoot,ref:t},s),g("button",{className:f.a.closeButton,onClick:a,title:"Close window",type:"button"}),o),g("div",{className:f.a.modalScrim,onClick:a}));return l?d.a.createPortal(m,l):m}))},N4Fx:function(e,t,a){e.exports={modalScrim:"Modal_modalScrim__15eBZ",modalRoot:"Modal_modalRoot__3nT9K",modalHeaderSection:"Modal_modalHeaderSection__3mBTz",closeButton:"Modal_closeButton__5CILe",content:"Modal_content__3FfLy",contentCentered:"Modal_contentCentered__13LxL"}},VlEr:function(e,t,a){e.exports={progressBar:"AchievementProgressBar_progressBar__3BjX3",progressBarInner:"AchievementProgressBar_progressBarInner__1FmAW",progressBarStat:"AchievementProgressBar_progressBarStat__2EOBg"}},WY3o:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("3Nqn"),n=function(e){return!e||"undefined"!==typeof e.length&&0===e.length},o=function(){return null};function c(e,t){for(var a=e.error,c=void 0===a?o:a,s=e.data,i=void 0===s?o:s,l=e.empty,d=void 0===l?o:l,u=e.loading,m=void 0===u?o:u,p=arguments.length,b=new Array(p>2?p-2:0),h=2;h<p;h++)b[h-2]=arguments[h];switch(t.status){case"success":return n(t.data)?d.apply(void 0,b):i.apply(void 0,[t.data].concat(b));case"error":return c.apply(void 0,[Object(r.a)(t.error)].concat(b));case"loading":return m.apply(void 0,b)}}},aBfH:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var r=a("mXGw"),n=a.n(r),o=a("Homr"),c=a("reqz"),s=a("09Gj"),i=a.n(s),l=n.a.createElement,d=function(e){var t=e.badge,a=e.user,r="https://offset-earth-share-images.s3-eu-west-1.amazonaws.com/achievements/share_".concat(t.id,".png"),n="".concat(window.location.origin,"/").concat(a.username,"/badges?share=").concat(t.id);return l("div",{className:i.a.content},l("img",{alt:"".concat(t.title," social share"),className:i.a.shareImage,src:r}),l("h3",{className:i.a.title},"Share this great news"),l("p",{className:i.a.copy},"Select which channel you want to post to:"),l("div",{className:i.a.shareButtons},l("a",{className:i.a.shareButton,"data-network":"facebook",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(n),rel:"noopener noreferrer",target:"_blank",title:"Share to Facebook"}),l("a",{className:i.a.shareButton,"data-network":"instagram",download:"".concat(t.title,".png"),href:r,title:"Share to Instagram"}),l("a",{className:i.a.shareButton,"data-network":"linkedin",href:"http://www.linkedin.com/shareArticle?mini=true&url=".concat(n),rel:"noopener noreferrer",target:"_blank",title:"Share to LinkedIn"}),l("a",{className:i.a.shareButton,"data-network":"twitter",href:"http://www.twitter.com/intent/tweet?url=".concat(n,"&via=").concat(c.e),rel:"noopener noreferrer",target:"_blank",title:"Share to Twitter"})))},u=a("174k"),m=a("VlEr"),p=a.n(m),b=n.a.createElement,h=function(e){var t=e.badge,a=e.user,r=e.leaderboardStats,o=f({badge:t,user:a,leaderboardStats:r}),c=o.width,s=o.stat;return b(n.a.Fragment,null,b("div",{className:p.a.progressBar},b("div",{className:p.a.progressBarInner,"data-width":c,style:{width:c}})),b("p",{className:p.a.progressBarStat},s))},f=function(e){var t=e.badge,a=e.user,r=e.leaderboardStats,n=0,o="";if("trees-planted"===t.category){var c=a.totalNumberOfTrees();n=Math.floor(c/t.total*100),o="".concat(Object(u.putCommasIntoNumber)(c)," / ").concat(Object(u.putCommasIntoNumber)(t.total)," trees")}if("sparkly-trees"===t.category){var s=a.totalNumberOfSparkleTrees();n=Math.floor(s/t.total*100),o="".concat(Object(u.putCommasIntoNumber)(s)," / ").concat(Object(u.putCommasIntoNumber)(t.total)," sparkly trees")}if("climate-positive"===t.category){var i,l=(null===(i=a.subscription)||void 0===i?void 0:i.numberOfMonthsPaid)||0;n=Math.floor(l/t.total*100),o="".concat(l," / ").concat(t.total," months")}if("carbon-reduction"===t.category){var d=a.totalNumberOfTonnesOffset();n=Math.floor(d/t.total*100),o="".concat(d," / ").concat(t.total," tonnes")}if("leaderboard"===t.category){var m=u.sparklyLeaderboardIds.findIndex((function(e){return e===t.id})),p=u.memberLeaderboardIds.findIndex((function(e){return e===t.id})),b=u.businessLeaderboardIds.findIndex((function(e){return e===t.id})),h=m>=0?{key:"sparkly",index:m}:p>=0?{key:"members",index:p}:b>=0?{key:"business",index:b}:{key:"",index:-1},f=h.key,g=h.index;if(f&&r){var v=r[f];0===g&&(v=v.slice(0,1)),1===g&&(v=v.slice(0,10));var _=v.pop(),w="sparkly"===f?a.totalNumberOfSparkleTrees():a.totalNumberOfTrees();n=w>0?Math.floor(w/(_.trees+1)*100):0;var y=_.trees+1-w,B=Object(u.putCommasIntoNumber)(y);o=g>0?"".concat(B," ").concat("sparkly"===f?"sparkly ":"","tree").concat(1===y?"":"s"," away from the top ").concat(1===g?10:50):"".concat(B," ").concat("sparkly"===f?"sparkly ":"","tree").concat(1===y?"":"s"," away from the top spot")}}return{width:(n=n>100?100:n)+"%",stat:o}},g=a("u1aw"),v=a.n(g),_=n.a.createElement,w=function(e){var t=e.badge,a=e.onClose,c=e.user,s=e.leaderboardStats,l=Object(r.useState)(!1),u=l[0],m=l[1],p=c.isBadgeComplete(t.id),b="https://offset-earth-share-images.s3-eu-west-1.amazonaws.com/achievements/share_".concat(t.id,".png");return _(o.a,{open:!0,onClose:a},_("div",{className:i.a.achievementPopupInner},u&&_("button",{className:i.a.backButton,onClick:function(){return m(!1)},title:"Go back",type:"button"}),u?_(d,{badge:t,user:c}):_(o.b,null,_("div",{className:v.a.achievementBadgeButton,"data-badge-category":t.category,"data-badge-id":t.id,"data-complete":p,"data-static":"true","data-large":"true","data-100":"true"}),_("h3",{className:i.a.title},t.title),_("div",{className:i.a.copy},p?_(n.a.Fragment,null,t.copy,_("br",null),_("br",null),_("a",{className:"link",download:!0,href:b,rel:"noopener noreferrer",style:{fontWeight:"bold",marginBottom:"12px"},target:"_blank"},"Download shareable image")):_(h,{badge:t,user:c,leaderboardStats:s})))))}},l2Dj:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a("mXGw"),n=a.n(r),o=a("u1aw"),c=a.n(o),s=n.a.createElement,i=function(e){var t=e.badge,a=e.setAchievementPopupBadge,r=e.user,n=e.isStatic;return r?s("div",{className:c.a.achievementBadge},s("button",{className:c.a.achievementBadgeButton,"data-badge-category":t.category,"data-badge-id":t.id,"data-complete":r.isBadgeComplete(t.id),"data-static":n,onClick:function(e){e.currentTarget.blur(),!n&&a&&a(t)},type:"button"}),t.title):s("div",null)}},"n+YJ":function(e,t,a){e.exports={row:"AchievementRow_row__3wV8P",title:"AchievementRow_title__3eNgn",badgesWrapper:"AchievementRow_badgesWrapper__3Wgor",badge:"AchievementRow_badge__4mLIk"}},rgaI:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("mK0O"),n=a("aNYv");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e){return Object.entries(e).reduce((function(e,t){var a,o=Object(n.a)(t,2),s=o[0],i=o[1];return c(c({},e),{},Object(r.a)({},s,(a=i,Array.isArray(a)?a[0]:a)))}),{})}},u1aw:function(e,t,a){e.exports={achievementBadge:"AchievementBadge_achievementBadge__2QO3K",achievementBadgeButton:"AchievementBadge_achievementBadgeButton__2-xnu"}}}]);